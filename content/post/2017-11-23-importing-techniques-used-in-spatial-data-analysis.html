---
title: Importing Techniques Used in Spatial Data Analysis
author: sumendar
date: '2017-11-23'
slug: importing-techniques-used-in-spatial-data-analysis
categories: []
tags: []
---



<p><strong>In this post we are going to take a look at various data importing techniques used for spatial data analysis</strong></p>
<div id="importing-data-from-tables-read.table" class="section level2">
<h2>Importing Data from Tables (read.table)</h2>
<ul>
<li>Opening data</li>
<li>Importing csv files</li>
<li>Checking the data structure for consistency</li>
</ul>
<p><strong>Accessing and importing open access environmental data is a crucial skill for data scientists. This section teaches you how to download data from the Web, import it in R and check it for consistency.</strong></p>
<ul>
<li>Download open-access data from the USGS website</li>
<li>Import it in R using read.table</li>
<li>Check its structure to start exploring the data</li>
</ul>
<pre class="r"><code>#Set the URL with the CSV Files
URL &lt;- &quot;http://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_day.csv&quot;</code></pre>
<pre class="r"><code>#Load the CSV File
Data &lt;- read.table(file=URL, 
                   sep=&quot;,&quot;, 
                   header=TRUE, 
                   na.string=&quot;&quot;)</code></pre>
<pre class="r"><code>#Help function
help(read.table)</code></pre>
<pre class="r"><code>#Examining the data
str(Data)</code></pre>
<pre><code>## &#39;data.frame&#39;:    152 obs. of  22 variables:
##  $ time           : Factor w/ 152 levels &quot;2017-11-22T17:41:23.650Z&quot;,..: 152 151 150 149 148 147 146 145 144 143 ...
##  $ latitude       : num  61.8 61.7 37.4 37.4 38.8 ...
##  $ longitude      : num  -148 -148 -117 -117 -123 ...
##  $ depth          : num  10.5 5.3 9.1 14.7 1.71 ...
##  $ mag            : num  1.9 1.7 1.1 1.9 1.56 2.45 1.2 1.31 5.1 2.15 ...
##  $ magType        : Factor w/ 5 levels &quot;mb&quot;,&quot;mb_lg&quot;,&quot;md&quot;,..: 4 4 4 4 3 4 4 3 5 3 ...
##  $ nst            : int  NA NA 10 5 22 12 NA 14 NA 31 ...
##  $ gap            : num  NA NA 217 250 49 ...
##  $ dmin           : num  NA NA 0.148 0.189 0.00878 ...
##  $ rms            : num  0.56 0.64 NA NA 0.06 0.17 0.29 0.03 1.03 0.18 ...
##  $ net            : Factor w/ 10 levels &quot;ak&quot;,&quot;ci&quot;,&quot;hv&quot;,..: 1 1 7 7 5 2 1 5 9 3 ...
##  $ id             : Factor w/ 152 levels &quot;ak17381048&quot;,&quot;ak17381141&quot;,..: 32 31 129 128 118 83 30 117 148 89 ...
##  $ updated        : Factor w/ 152 levels &quot;2017-11-22T18:26:02.985Z&quot;,..: 151 150 144 142 147 135 134 139 141 130 ...
##  $ place          : Factor w/ 128 levels &quot;107km E of San Pedro de Atacama, Chile&quot;,..: 66 68 71 65 78 62 56 16 97 50 ...
##  $ type           : Factor w/ 3 levels &quot;earthquake&quot;,&quot;explosion&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ horizontalError: num  NA NA NA NA 0.25 0.53 NA 1.21 3.5 0.81 ...
##  $ depthError     : num  0.2 0.3 NA NA 0.37 1.91 0.1 0.52 4.1 1.05 ...
##  $ magError       : num  NA NA NA NA 0.21 0.15 NA 0.12 0.075 0.11 ...
##  $ magNst         : int  NA NA NA NA 8 27 NA 13 17 4 ...
##  $ status         : Factor w/ 2 levels &quot;automatic&quot;,&quot;reviewed&quot;: 1 1 1 1 1 1 1 1 2 1 ...
##  $ locationSource : Factor w/ 10 levels &quot;ak&quot;,&quot;ci&quot;,&quot;hv&quot;,..: 1 1 7 7 5 2 1 5 9 3 ...
##  $ magSource      : Factor w/ 10 levels &quot;ak&quot;,&quot;ci&quot;,&quot;hv&quot;,..: 1 1 7 7 5 2 1 5 9 3 ...</code></pre>
</div>
<div id="downloading-open-data-from-ftp-sites" class="section level2">
<h2>Downloading Open Data from FTP Sites</h2>
<p><strong>Often times, datasets are provided for free, but on FTP, websites and practitioners need to be able to access them. R is perfectly capable of downloading and importing data from FTP sites.</strong></p>
<p>Understand the basics of downloading data in R Download the data with the download.file function Learn how to handle compressed formats</p>
<pre class="r"><code>#Load required packages
library(RCurl)</code></pre>
<pre><code>## Loading required package: bitops</code></pre>
<pre class="r"><code>library(XML)</code></pre>
<pre class="r"><code>#Create a list with all the files on the FTP site
list &lt;- getURL(&quot;ftp://ftp.ncdc.noaa.gov/pub/data/gsod/2016/&quot;, 
               dirlistonly = TRUE) </code></pre>
<pre class="r"><code>#Clean the list 
FileList &lt;- strsplit(list, split=&quot;\r\n&quot;)</code></pre>
</div>
